<!doctype html>
<html lang="ru">
<head>
<meta charset="utf-8"/>
<style>
  /* A6: фиксируем размер и поля через @page */
  @page { size: A6; margin: 8mm; }
  html, body { margin:0; padding:0; font-family: DejaVu Sans, sans-serif; color:#0e1d26; }
  body { font-size: 10pt; line-height: 1.15; }
  .wrap { width:100%; box-sizing: border-box; }

  .badge {
    display:inline-block; padding:2mm 4mm; border-radius:999px;
    background:#e9fbff; color:#0f3950; border:0.2mm solid #bfe8f2;
    font-size:9pt; letter-spacing:.04em;
  }
  h1.title {
    margin:6mm 0 2mm; font-weight:700; font-size:16pt; letter-spacing:.02em;
    text-transform:uppercase; color:#0f3a50; line-height:1.15;
  }
  .meta { color:#3c6b7c; margin-bottom:6mm; font-size:9pt; word-break:break-word; }

  /* Табличная, предсказуемая вёрстка.
     table-layout: fixed и явные размеры ячеек предотвращают сильное сжатие колонки,
     которое могло приводить к построчному выводу по одному символу. */
  table.grid { width:100%; border-collapse:separate; border-spacing:0 3mm; table-layout: fixed; }
  td.col { /* 89mm (105 - 2*8 margin) ≈ 89 mm available; two cols ~44mm each */
    width:44mm; vertical-align:top; padding:0 4px; box-sizing:border-box;
    white-space: normal; overflow-wrap: break-word; word-wrap: break-word; word-break: normal;
  }
  .h { font-size:8pt; color:#4c8598; text-transform:uppercase; letter-spacing:.04em; }
  .v { font-size:12pt; color:#0e1d26; font-weight:700; word-break:normal; white-space:normal; }

  hr.sep { border:0; height:0; border-top:0.3mm solid #cfe7ef; margin:5mm 0 4mm; }

  table.qr { width:100%; border-collapse:collapse; }
  td.qr-left { width:52%; vertical-align:top; padding-right:6px; box-sizing:border-box; }
  td.qr-right { width:48%; text-align:right; vertical-align:middle; }
  img.qr { width:34mm; height:34mm; display:block; border:0; }

  .note { color:#4c8598; font-size:9pt; margin-top:1.5mm; line-height:1.25; }
  .foot { margin-top:5mm; color:#446c7d; font-size:8.5pt; border-top:0.3mm solid #cfe7ef; padding-top:3mm; line-height:1.2; }
  .mono { font-family: DejaVu Sans Mono, monospace; letter-spacing:.02em; }
  a.link { color:#1c7aa5; text-decoration:none; border-bottom:0.2mm dotted #1c7aa5; word-break:break-all; }
</style>
</head>
<body>
  <div class="wrap">
    <span class="badge">Абонемент ДВВС</span>
    <h1 class="title">{{service_name}}</h1>
    <div class="meta">Документ: <span class="mono">{{docId}}</span> · Дата: {{date}}</div>

    <table class="grid" cellpadding="0" cellspacing="0" role="presentation">
      <tr>
        <td class="col">
          <div class="h">Стоимость</div>
          <div class="v">{{price}} ₽</div>
        </td>
        <td class="col">
          <div class="h">Посещений</div>
          <div class="v">{{visits}}</div>
        </td>
      </tr>
      <tr>
        <td class="col">
          <div class="h">Заморозка</div>
          <div class="v">{{freezing}} дней</div>
        </td>
        <td class="col">
          <div class="h">Ссылка ваучера</div>
          <div><a class="link" href="{{voucher_url}}">{{voucher_url}}</a></div>
        </td>
      </tr>
      <tr>
        <td class="col">
          <div class="h">Телефон</div>
          <div class="v">{{phone}}</div>
        </td>
        <td class="col">
          <div class="h">E‑mail</div>
          <div class="v">{{email}}</div>
        </td>
      </tr>
    </table>

    <hr class="sep" />

    <table class="qr" cellpadding="0" cellspacing="0" role="presentation">
      <tr>
        <td class="qr-left">
          <div class="h" style="font-size:10pt; color:#0f3a50;">QR‑код подтверждения</div>
          <div class="note">Покажите этот код на стойке администратора. По QR подтверждается право на услугу.</div>
        </td>
        <td class="qr-right">
          <img class="qr" src="{{qr_code_data}}" alt="QR-code" />
        </td>
      </tr>
    </table>

    <div class="foot">
      Настоящий абонемент является электронным документом, сформированным автоматически.
      Данные держателя: телефон {{phone}}, e‑mail {{email}}. Документ № <span class="mono">{{docId}}</span>.
    </div>
  </div>
</body>
</html>